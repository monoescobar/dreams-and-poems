<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Dreams and Poems âœ¨</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒ™</text></svg>">
    
    <!-- Meta tags for SEO and social sharing -->
    <meta name="description" content="Dreams and Poems - An immersive visual poetry experience by Carlos Escobar. Explore abstract and surreal video content that combines art, technology, and emotion.">
    <meta name="keywords" content="visual poetry, dreams, poems, Carlos Escobar, video art, digital art, interactive experience">
    <meta name="author" content="Carlos Escobar">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://github.com/monoescobar/dreams-and-poems">
    <meta property="og:title" content="Dreams and Poems âœ¨">
    <meta property="og:description" content="An immersive visual poetry experience combining abstract video content with interactive storytelling.">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://github.com/monoescobar/dreams-and-poems">
    <meta property="twitter:title" content="Dreams and Poems âœ¨">
    <meta property="twitter:description" content="An immersive visual poetry experience combining abstract video content with interactive storytelling.">
    
    <!-- Performance optimization -->
    <link rel="preconnect" href="https://filedn.com">
    <link rel="dns-prefetch" href="https://filedn.com">
    
    <!-- Load external CSS and JS -->
    <link rel="stylesheet" href="src/styles/main.css">
    <script src="video-urls.js"></script>
    
    <!-- Loading animation styles -->
    <style>
        .loading-content {
            text-align: center;
            animation: pulse 2s infinite;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .primary-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 8px;
            transition: background 0.2s;
        }
        
        .primary-button:hover {
            background: #2563eb;
        }
        
        .secondary-button {
            background: transparent;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 10px 22px;
            border-radius: 8px;
            cursor: pointer;
            margin: 8px;
            transition: all 0.2s;
        }
        
        .secondary-button:hover {
            border-color: rgba(255, 255, 255, 0.6);
            background: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="sr-only sr-only-focusable">Skip to main content</a>

    <div id="video-container" role="main" aria-label="Dreams and Poems video player">
        <video id="video-a" class="video-player" playsinline muted aria-label="Dreams and Poems video content"></video>
        <video id="video-b" class="video-player" playsinline muted aria-label="Dreams and Poems video content"></video>
        <div id="progress-bar" role="progressbar" aria-label="Video progress" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
    </div>

    <div id="ui-overlay" class="ui-overlay">
        <div class="desktop-controls" role="navigation" aria-label="Video player controls">
            <div class="control-bar">
                <button id="toggle-sound-btn" type="button" class="control-btn" title="Mute (M)" aria-label="Toggle sound (M)"></button>
                <button id="fullscreen-btn" type="button" class="control-btn" title="Fullscreen (F)" aria-label="Toggle fullscreen (F)"></button>
                <label class="toggle-switch" role="switch" aria-label="Toggle autoplay (A)" tabindex="0">
                    <input type="checkbox" id="auto-play-checkbox">
                    <span class="toggle-icon"></span>
                    <span class="sr-only">Press A to toggle autoplay</span>
                </label>
            </div>
        </div>
        
        <a href="https://www.linkedin.com/in/carlos-escobar-32156b24/" target="_blank" rel="noopener noreferrer" 
           id="about-link" class="nav-link about-link" aria-label="About Carlos Escobar - Opens LinkedIn profile">About</a>
        
        <a href="https://filedn.com/lHC6pEBkEzyQnHC8rtghiku/Carlos_Escobar.pdf" target="_blank" rel="noopener noreferrer"
           id="portfolio-link" class="nav-link portfolio-link" aria-label="View Portfolio - Opens PDF document">Portfolio</a>
        
        <span id="version-number" class="nav-link version-link" aria-label="Application version v001">v001</span>
        
        <div id="gesture-feedback" aria-live="polite" aria-atomic="true" role="status">
            <div id="gesture-icon" aria-hidden="true"></div>
            <div id="gesture-text"></div>
        </div>
    </div>

    <div id="status-indicator" aria-live="polite" aria-atomic="true"></div>

    <!-- Load application modules -->
    <script type="module">
        // Import error boundary first for early error catching
        import('./src/js/errorBoundary.js');
        
        // Import and initialize main application
        import('./src/js/app.js').catch(error => {
            console.error('Failed to load application:', error);
            
            // Fallback error display
            document.body.innerHTML = `
                <div style="
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    text-align: center;
                    color: white;
                    background: rgba(0, 0, 0, 0.9);
                    padding: 2rem;
                    border-radius: 12px;
                    font-family: sans-serif;
                ">
                    <h2>ðŸš¨ Loading Error</h2>
                    <p>Failed to load Dreams and Poems application.</p>
                    <p>Please check your internet connection and try again.</p>
                    <button onclick="location.reload()" style="
                        background: #3b82f6;
                        color: white;
                        border: none;
                        padding: 12px 24px;
                        border-radius: 8px;
                        cursor: pointer;
                        font-weight: 600;
                        margin-top: 1rem;
                    ">
                        Reload Page
                    </button>
                </div>
            `;
        });
    </script>
    
    <!-- Service Worker for offline support -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>

</body>

</html>